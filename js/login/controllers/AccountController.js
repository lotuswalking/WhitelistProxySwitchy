(function(){var e,r;e=["angular","core/module","core/services/validate","core/services/tele","core/services/storage","login/module"],r=function(e){var r;return r=function($scope,$rootScope,$http,$timeout,$location,validate,tele,storage,SERVER,LOGIN_EVENT_NAME,ERROR_LOGIN_UNKNOWN,ERROR_LOGIN_TIME){return $scope.focuses={name:!0},$scope.disableInputs=!1,$scope.resetPasswordUrl="https://"+SERVER+"/user/password/reset",$scope.validateNameFormat=function(e){var r;return r=validate.phone(e)||validate.email(e),console.log(r,e),r},$scope.checkNameExistence=function(){var e,r;return e=$scope.account.name,e.$stateVisible=!0,$scope.account.$valid?(r=$rootScope.name,$scope.disableInputs=!0,$http.get("https://"+SERVER+"/user/name",{params:{name:r}}).success(function(e){return e.exists?($location.path("/login"),$rootScope.isVirgin?tele.run("track.event",LOGIN_EVENT_NAME,"login-start"):void 0):$location.path("/register")}).error(function(){return alert($scope.betweenCertInterval()?ERROR_LOGIN_UNKNOWN:ERROR_LOGIN_TIME)})["finally"](function(){return $scope.disableInputs=!1})):void 0}},e.module("login").controller("AccountController",r)},define(e,r)}).call(this);