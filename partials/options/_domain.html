<div class="domain" ng-switch="$root.user.role">

    <div ng-switch-when="user" class="locked" title="成为VIP后即可编辑">
        <span class="glyphicon glyphicon-lock"></span>
        <span class="name form-control-static">{{ model.name }}</span>
    </div>

    <form ng-switch-when="VIP" ng-submit="update()">

        <div class="form-group" ng-if="!editing">
            <a ng-click="remove()" href="" class="remove glyphicon glyphicon-trash" title="Remove domain"></a>
            <span ng-click="edit()" class="name form-control-static">
                {{ model.name }}
                <span class="glyphicon glyphicon-pencil"></span>
            </span>
        </div>

        <div class="input-group" ng-if="editing">
            <input ng-model="edition.name"
                   focus-bind="focusInput"
                   ui-keydown="{esc:'edit(false)'}"
                   type="text" class="form-control">
            <div class="input-group-btn">
                <button type="submit" class="btn btn-default" title="OK">
                    <span class="glyphicon glyphicon-ok"></span>
                </button>
                <button ng-click="edit(false)" type="button" class="btn btn-default" title="Cancel">
                    <span class="glyphicon glyphicon-ban-circle"></span>
                </button>
            </div>
        </div>

    </form>
</div>
